<!-- <!DOCTYPE html>https://www.oxxostudio.tw/articles/201803/css-animation.html -->
<html>
    <head>
        <meta name="viewport" width="device-width, initial-scale=1.0"/>
        <meta charset="utf-8"/>
        <title>Transition</title>
        <!-- Google Font -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans&display=swap" rel="stylesheet">
        <style>
            .parent{
                /*  hsl(hue, saturation, lightness);               
                    hsla(hue, saturation, lightness, opacity);
                */
                background-color: hsla(200,100%,20%);
                height:400px;
                width:400px;
            }

            .child{
                background-color: red;
                /* 將子層長寬設定在，相對父層長寬的 50% */
                height:50%;
                width:50%;
                transition:transform 500ms 600ms,background-color 800ms ease-out 1000ms;
                animation:left-right 3s ease-in forwards 3 alternate; /*重複來回3次*/
            }

            /* .child:hover{} 只對子層影響:只有滑鼠碰到紅方塊才會右移 */
            /* .parent:hover{} 只對父層影響:碰到藍方塊整個一起右移自身寬的 100%，並且在移動後因為滑鼠不在blue方塊上因此會回到原位 */
            .parent:hover .child{  /* 父層觸發，作用在子層變色。 */
                animation-play-state:paused; /* 滑鼠觸發暫停動畫 */
                background-color:yellow;
                
            }
                            /* (屬性) animation-fill-mode 動畫播放前後模式:
                            none：預設值，不論動畫播放次數，結束後一律返回原始狀態。
                            forwards：動畫結束後，保持在最後一個影格狀態。
                            backwards：動畫結束後，保持在第一個影格狀態 ( 但實際測試和 none 效果一樣 )。
                            both：依據動畫的次數或播放方向，保持在第一個影格或最後一個影格狀態，相當實用。 */
            @keyframes left-right{
                0%{
                    transform:translateX(0);
                }
                33%{
                    transform:translateY(100%); /*下移*/
                }
                66%{
                    transform:translateX(100%); /*右移*/
                    background-color:chartreuse;
                }
                100%{
                    transform:translateX(100%) translateY(100%); /*右下*/
                }
            }

        </style>
    </head>
    <body>
        <div class="parent">
            <div class="child"></div>
        </div>
    </body>
</html>